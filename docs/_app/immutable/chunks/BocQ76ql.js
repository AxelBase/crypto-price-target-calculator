async function p(){try{const t=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=50&page=1");if(!t.ok)throw new Error("API error");return(await t.json()).map(r=>({id:r.id,name:r.name,symbol:r.symbol}))}catch(t){return console.error("Error fetching crypto list:",t),[]}}async function h(t){try{const e=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${t}&vs_currencies=usd`);if(!e.ok)throw new Error("API error");return(await e.json())[t]?.usd||null}catch(e){return console.error("Error fetching current price:",e),null}}async function u(t,e=7){try{const r=await fetch(`https://api.coingecko.com/api/v3/coins/${t}/market_chart?vs_currency=usd&days=${e}`);if(!r.ok)throw new Error("API error");return(await r.json()).prices.map(a=>a[1])}catch(r){return console.error("Error fetching historical data:",r),[]}}function d(t,e){if(t<=0||e<=0)return{percentage:0,absolute:0};const r=e-t;return{percentage:(r/t*100).toFixed(2),absolute:r.toFixed(2)}}function l(t){if(t.length<2)return 0;const e=t.reduce((a,o)=>a+o,0)/t.length,r=t.reduce((a,o)=>a+Math.pow(o-e,2),0)/(t.length-1);return Math.sqrt(r)/e*100}async function f(t,e,r){const c=await u(t),a=l(c),o=d(e,r),s=a/100,n=o.percentage*(1+s),i=n/100*e;return{requiredPercentage:o.percentage,requiredAbsolute:o.absolute,volatility:a.toFixed(2),adjustedPercentage:n.toFixed(2),adjustedAbsolute:i.toFixed(2)}}export{p as a,h as b,f as c,u as f};
